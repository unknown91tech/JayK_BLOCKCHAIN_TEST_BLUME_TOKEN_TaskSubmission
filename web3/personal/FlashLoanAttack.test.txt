D:\uniquecrypto\test1 (test1@1.0.0)
λ npx hardhat test test/FlashLoanAttack.test.js
Compiled 3 Solidity files successfully (evm target: paris).


  Flash Loan Attack Resistance
    √ Should prevent price manipulation through large swaps (86ms)
    √ Should allow legitimate trading within oracle price bounds (39ms)


  2 passing (1s)

·············································································································
|  Solidity and Network Configuration                                                                       │
························|·················|···············|·················|································
|  Solidity: 0.8.20     ·  Optim: true    ·  Runs: 200    ·  viaIR: true    ·     Block: 30,000,000 gas     │
························|·················|···············|·················|································
|  Methods                                                                                                  │
························|·················|···············|·················|················|···············
|  Contracts / Methods  ·  Min            ·  Max          ·  Avg            ·  # calls       ·  usd (avg)   │
························|·················|···············|·················|················|···············
|  BlumeSwapFactory     ·                                                                                   │
························|·················|···············|·················|················|···············
|      createPair       ·      1,916,999  ·    1,917,008  ·      1,917,004  ·             2  ·           -  │
························|·················|···············|·················|················|···············
|  BlumeSwapRouter      ·                                                                                   │
························|·················|···············|·················|················|···············
|      addLiquidity     ·        265,182  ·      265,190  ·        265,186  ·             2  ·           -  │
························|·················|···············|·················|················|···············
|  BlumeToken           ·                                                                                   │
························|·················|···············|·················|················|···············
|      approve          ·         46,015  ·       46,027  ·         46,021  ·             4  ·           -  │
························|·················|···············|·················|················|···············
|      transfer         ·              -  ·            -  ·         56,370  ·             1  ·           -  │
························|·················|···············|·················|················|···············
|  MockBlumeSwapPair    ·                                                                                   │
························|·················|···············|·················|················|···············
|      initialize       ·              -  ·            -  ·         66,531  ·             2  ·           -  │
························|·················|···············|·················|················|···············
|      setPriceOracle   ·              -  ·            -  ·         43,984  ·             2  ·           -  │
························|·················|···············|·················|················|···············
|  PriceOracle          ·                                                                                   │
························|·················|···············|·················|················|···············
|      setCustomPrice   ·              -  ·            -  ·         70,085  ·             4  ·           -  │
························|·················|···············|·················|················|···············
|  Deployments                            ·                                 ·  % of limit    ·              │
························|·················|···············|·················|················|···············
|  BlumeSwapFactory     ·              -  ·            -  ·      2,655,637  ·         8.9 %  ·           -  │
························|·················|···············|·················|················|···············
|  BlumeSwapRouter      ·              -  ·            -  ·      1,893,496  ·         6.3 %  ·           -  │
························|·················|···············|·················|················|···············
|  BlumeToken           ·              -  ·            -  ·      1,502,202  ·           5 %  ·           -  │
························|·················|···············|·················|················|···············
|  MockBlumeSwapPair    ·              -  ·            -  ·        654,055  ·         2.2 %  ·           -  │
························|·················|···············|·················|················|···············
|  MockFactoryAdmin     ·              -  ·            -  ·        116,605  ·         0.4 %  ·           -  │
························|·················|···············|·················|················|···············
|  MockPriceVerifier    ·              -  ·            -  ·        282,595  ·         0.9 %  ·           -  │
························|·················|···············|·················|················|···············
|  PriceOracle          ·              -  ·            -  ·        715,485  ·         2.4 %  ·           -  │
························|·················|···············|·················|················|···············
|  WETH                 ·              -  ·            -  ·        635,800  ·         2.1 %  ·           -  │
························|·················|···············|·················|················|···············
|  Key                                                                                                      │
·············································································································
|  ◯  Execution gas for this method does not include intrinsic gas overhead                                 │
·············································································································
|  △  Cost was non-zero but below the precision setting for the currency display (see options)              │
·············································································································
|  Toolchain:  hardhat                                                                                      │
·············································································································