D:\uniquecrypto\test1 (test1@1.0.0)                                                                                                                 
λ npx hardhat test test/BlumeSwapPair.test.js                                                                                                       
                                                                                                                                                    
                                                                                                                                                    
  BlumeSwapPair                                                                                                                                     
    Initialization                                                                                                                                  
      √ Should initialize with correct tokens (38ms)                                                                                                
    Liquidity provision                                                                                                                             
      √ Should allow adding liquidity and mint LP tokens (120ms)                                                                                    
      √ Should allow removing liquidity (191ms)                                                                                                     
    Swapping                                                                                                                                        
      √ Should allow swapping token0 for token1 (110ms)                                                                                             
      √ Should revert if K invariant is violated (57ms)                                                                                             
      1) Should charge protocol fee on swaps                                                                                                        
    Price oracle integration                                                                                                                        
      √ Should verify price against oracle when set (284ms)                                                                                         
                                                                                                                                                    
                                                                                                                                                    
  6 passing (3s)                                                                                                                                    
  1 failing                                                                                                                                         
                                                                                                                                                    
  1) BlumeSwapPair                                                                                                                                  
       Swapping                                                                                                                                     
         Should charge protocol fee on swaps:                                                                                                       
     Error: VM Exception while processing transaction: reverted with panic code 0x11 (Arithmetic operation overflowed outside of an unchecked block)
    at BlumeSwapPair.swap (contracts/BlumeSwapPair.sol:305)                                                                                         
    at EdrProviderWrapper.request (node_modules\hardhat\src\internal\hardhat-network\provider\provider.ts:359:41)                                   
    at EthersProviderWrapper.send (node_modules\@nomiclabs\hardhat-ethers\src\internal\ethers-provider-wrapper.ts:13:20)                            
                                                                                                                                                    
                                                                                                                                                    
                                                                                                                                                    
                                                                                                                                                    
···············································································································                                     
|  Solidity and Network Configuration                                                                         │                                     
··························|·················|···············|·················|································                                     
|  Solidity: 0.8.20       ·  Optim: true    ·  Runs: 200    ·  viaIR: true    ·     Block: 30,000,000 gas     │                                     
··························|·················|···············|·················|································                                     
|  Methods                                                                                                    │                                     
··························|·················|···············|·················|················|···············                                     
|  Contracts / Methods    ·  Min            ·  Max          ·  Avg            ·  # calls       ·  usd (avg)   │                                     
··························|·················|···············|·················|················|···············                                     
|  BlumeSwapFactory       ·                                                                                   │                                     
··························|·················|···············|·················|················|···············                                     
|      createPair         ·      1,916,987  ·    1,917,008  ·      1,917,001  ·             7  ·           -  │                                     
··························|·················|···············|·················|················|···············                                     
|      setFeeReceiver     ·              -  ·            -  ·         30,316  ·             1  ·           -  │                                     
··························|·················|···············|·················|················|···············                                     
|      setProtocolFeeBPS  ·              -  ·            -  ·         29,980  ·             1  ·           -  │                                     
··························|·················|···············|·················|················|···············                                     
|  BlumeSwapPair          ·                                                                                   │                                     
··························|·················|···············|·················|················|···············                                     
|      burn               ·              -  ·            -  ·        119,863  ·             1  ·           -  │                                     
··························|·················|···············|·················|················|···············                                     
|      mint               ·        182,981  ·      203,465  ·        186,428  ·             6  ·           -  │                                     
··························|·················|···············|·················|················|···············                                     
|      setPriceOracle     ·              -  ·            -  ·         45,023  ·             1  ·           -  │                                     
··························|·················|···············|·················|················|···············                                     
|      swap               ·              -  ·            -  ·        162,696  ·             1  ·           -  │                                     
··························|·················|···············|·················|················|···············                                     
|      transfer           ·              -  ·            -  ·         29,659  ·             1  ·           -  │                                     
··························|·················|···············|·················|················|···············                                     
|  BlumeToken             ·                                                                                   │                                     
··························|·················|···············|·················|················|···············                                     
|      approve            ·         26,103  ·       46,015  ·         43,165  ·             7  ·           -  │                                     
··························|·················|···············|·················|················|···············                                     
|      transfer           ·         39,246  ·       56,358  ·         50,650  ·             9  ·           -  │                                     
··························|·················|···············|·················|················|···············                                     
|  PriceOracle            ·                                                                                   │                                     
··························|·················|···············|·················|················|···············                                     
|      setCustomPrice     ·              -  ·            -  ·         70,085  ·             2  ·           -  │                                     
··························|·················|···············|·················|················|···············                                     
|  WETH                   ·                                                                                   │                                     
··························|·················|···············|·················|················|···············                                     
|      approve            ·         28,893  ·       45,993  ·         43,545  ·             7  ·           -  │                                     
··························|·················|···············|·················|················|···············                                     
|      deposit            ·              -  ·            -  ·         68,951  ·             7  ·           -  │                                     
··························|·················|···············|·················|················|···············                                     
|      transfer           ·         34,187  ·       51,299  ·         47,018  ·             8  ·           -  │                                     
··························|·················|···············|·················|················|···············                                     
|  Deployments                              ·                                 ·  % of limit    ·              │                                     
··························|·················|···············|·················|················|···············                                     
|  BlumeSwapFactory       ·              -  ·            -  ·      2,655,637  ·         8.9 %  ·           -  │                                     
··························|·················|···············|·················|················|···············                                     
|  BlumeToken             ·              -  ·            -  ·      1,502,202  ·           5 %  ·           -  │                                     
··························|·················|···············|·················|················|···············                                     
|  PriceOracle            ·              -  ·            -  ·        715,485  ·         2.4 %  ·           -  │                                     
··························|·················|···············|·················|················|···············                                     
|  WETH                   ·              -  ·            -  ·        635,800  ·         2.1 %  ·           -  │                                     
··························|·················|···············|·················|················|···············                                     
|  Key                                                                                                        │                                     
···············································································································                                     
|  ◯  Execution gas for this method does not include intrinsic gas overhead                                   │                                     
···············································································································                                     
|  △  Cost was non-zero but below the precision setting for the currency display (see options)                │                                     
···············································································································                                     
|  Toolchain:  hardhat                                                                                        │                                     
···············································································································                                     
                                                                                                                                                    
Your solidity settings have viaIR enabled, which is not fully supported yet. You can still use Hardhat, but some features, like stack traces, might 
not work correctly.                                                                                                                                 
                                                                                                                                                    
Learn more at https://hardhat.org/solc-viair                                                                                                        
                                                                                                                                                    
D:\uniquecrypto\test1 (test1@1.0.0)                                                                                                                 
λ                                                                                                                                                   